<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dormancy Fraud Detection System</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #667eea;
        --secondary: #764ba2;
        --danger: #e74c3c;
        --warning: #f39c12;
        --success: #27ae60;
        --info: #3498db;
        --dark: #2c3e50;
        --light: #ecf0f1;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .dashboard {
        max-width: 1600px;
        margin: 0 auto;
      }

      /* Header */
      .header {
        background: white;
        padding: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        margin-bottom: 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header-left h1 {
        color: var(--primary);
        font-size: 2.5rem;
        margin-bottom: 5px;
      }

      .header-left p {
        color: #666;
        font-size: 1.1rem;
      }

      .header-right {
        display: flex;
        gap: 15px;
      }

      .status-badge {
        padding: 15px 25px;
        border-radius: 50px;
        font-weight: bold;
        font-size: 1rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .status-badge.active {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.8;
        }
      }

      /* Live Transaction Monitor */
      .live-monitor {
        background: white;
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
      }

      .live-monitor h2 {
        color: var(--dark);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .transaction-input {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .input-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .input-group label {
        font-weight: 600;
        color: var(--dark);
        font-size: 0.9rem;
      }

      .input-group input,
      .input-group select {
        padding: 12px;
        border: 2px solid var(--light);
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s;
      }

      .input-group input:focus,
      .input-group select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      .analyze-btn {
        grid-column: 1 / -1;
        padding: 15px 30px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: transform 0.2s;
      }

      .analyze-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
      }

      /* Prediction Result */
      .prediction-result {
        background: white;
        border-radius: 20px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        display: none;
      }

      .prediction-result.show {
        display: block;
        animation: slideIn 0.5s ease;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .prediction-header {
        text-align: center;
        margin-bottom: 30px;
      }

      .risk-score {
        font-size: 5rem;
        font-weight: bold;
        margin: 20px 0;
      }

      .risk-score.high {
        color: var(--danger);
      }

      .risk-score.medium {
        color: var(--warning);
      }

      .risk-score.low {
        color: var(--success);
      }

      .risk-indicator {
        width: 100%;
        height: 30px;
        background: linear-gradient(to right, #27ae60, #f39c12, #e74c3c);
        border-radius: 15px;
        position: relative;
        margin: 30px 0;
      }

      .risk-pointer {
        position: absolute;
        top: -10px;
        width: 0;
        height: 0;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
        border-top: 20px solid var(--dark);
        transition: left 1s ease;
      }

      /* Contributing Factors */
      .factors-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 30px;
      }

      .factor-card {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 15px;
        border-left: 5px solid;
      }

      .factor-card.high-risk {
        border-left-color: var(--danger);
      }

      .factor-card.medium-risk {
        border-left-color: var(--warning);
      }

      .factor-card.low-risk {
        border-left-color: var(--success);
      }

      .factor-card h4 {
        margin-bottom: 10px;
        color: var(--dark);
      }

      .factor-value {
        font-size: 1.5rem;
        font-weight: bold;
        margin: 10px 0;
      }

      .factor-impact {
        font-size: 0.85rem;
        color: #666;
      }

      /* Stats Grid */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: white;
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
        transition: transform 0.3s;
      }

      .stat-card:hover {
        transform: translateY(-5px);
      }

      .stat-icon {
        font-size: 3rem;
        margin-bottom: 15px;
      }

      .stat-value {
        font-size: 2.5rem;
        font-weight: bold;
        color: var(--dark);
      }

      .stat-label {
        color: #666;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-top: 10px;
      }

      /* Charts */
      .charts-row {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .chart-card {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .chart-card h3 {
        margin-bottom: 20px;
        color: var(--dark);
      }

      .chart-container {
        position: relative;
        height: 300px;
      }

      /* Recent Alerts */
      .alerts-section {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
      }

      .alert-item {
        padding: 20px;
        margin-bottom: 15px;
        border-radius: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: transform 0.2s;
      }

      .alert-item:hover {
        transform: translateX(5px);
      }

      .alert-item.fraud {
        background: #fee;
        border-left: 5px solid var(--danger);
      }

      .alert-item.suspicious {
        background: #ffeaa7;
        border-left: 5px solid var(--warning);
      }

      .alert-item.normal {
        background: #e8f8f5;
        border-left: 5px solid var(--success);
      }

      .alert-time {
        font-size: 0.85rem;
        color: #666;
      }

      /* Action Buttons */
      .action-buttons {
        display: flex;
        gap: 15px;
        margin-top: 30px;
        justify-content: center;
      }

      .btn {
        padding: 15px 30px;
        border: none;
        border-radius: 10px;
        font-size: 1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .btn-primary {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
      }

      .btn-danger {
        background: var(--danger);
        color: white;
      }

      .btn-success {
        background: var(--success);
        color: white;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      /* Model Info */
      .model-info {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .model-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .metric {
        text-align: center;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 10px;
      }

      .metric-value {
        font-size: 2rem;
        font-weight: bold;
        color: var(--primary);
      }

      .metric-label {
        font-size: 0.85rem;
        color: #666;
        margin-top: 5px;
      }

      @media (max-width: 768px) {
        .header {
          flex-direction: column;
          gap: 20px;
        }

        .charts-row {
          grid-template-columns: 1fr;
        }

        .transaction-input {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="dashboard">
      <!-- Header -->
      <div class="header">
        <div class="header-left">
          <h1>üõ°Ô∏è Dormancy Fraud Detection System</h1>
          <p>Real-time AI-powered dormant account fraud prevention</p>
        </div>
        <div class="header-right">
          <div class="status-badge active">
            <span>üü¢</span>
            <span>MODEL ACTIVE</span>
          </div>
        </div>
      </div>

      <!-- Stats Overview -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üìä</div>
          <div class="stat-value">5M</div>
          <div class="stat-label">Transactions Analyzed</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üö®</div>
          <div class="stat-value">3.59%</div>
          <div class="stat-label">Fraud Detection Rate</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üéØ</div>
          <div class="stat-value">96.8%</div>
          <div class="stat-label">Model Accuracy</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">‚ö°</div>
          <div class="stat-value">23ms</div>
          <div class="stat-label">Avg Response Time</div>
        </div>
      </div>

      <!-- Live Transaction Monitor -->
      <div class="live-monitor">
        <h2>üîç Analyze Transaction for Dormancy Fraud</h2>
        <div class="transaction-input">
          <div class="input-group">
            <label>Account ID</label>
            <input
              type="text"
              id="accountId"
              placeholder="ACC-12345"
              value="ACC-67890"
            />
          </div>
          <div class="input-group">
            <label>Transaction Amount ($)</label>
            <input
              type="number"
              id="amount"
              placeholder="500.00"
              value="850.00"
            />
          </div>
          <div class="input-group">
            <label>Days Since Last Transaction</label>
            <input
              type="number"
              id="daysSinceLast"
              placeholder="90"
              value="287"
            />
          </div>
          <div class="input-group">
            <label>Transaction Type</label>
            <select id="transactionType">
              <option>withdrawal</option>
              <option>transfer</option>
              <option>payment</option>
              <option>deposit</option>
            </select>
          </div>
          <div class="input-group">
            <label>Device Type</label>
            <select id="deviceType">
              <option>mobile</option>
              <option>web</option>
              <option>atm</option>
              <option>pos</option>
            </select>
          </div>
          <div class="input-group">
            <label>Location</label>
            <select id="location">
              <option>New York</option>
              <option>Tokyo</option>
              <option>London</option>
              <option>Singapore</option>
            </select>
          </div>
          <div class="input-group">
            <label>Hour of Day</label>
            <input type="number" id="hour" min="0" max="23" value="3" />
          </div>
          <div class="input-group">
            <label>Merchant Category</label>
            <select id="merchant">
              <option>retail</option>
              <option>travel</option>
              <option>restaurant</option>
              <option>entertainment</option>
            </select>
          </div>
          <button class="analyze-btn" onclick="analyzeTransaction()">
            üîç Analyze Transaction Risk
          </button>
        </div>
      </div>

      <!-- Prediction Result -->
      <div class="prediction-result" id="predictionResult">
        <div class="prediction-header">
          <h2>Risk Assessment Result</h2>
          <div class="risk-score high" id="riskScore">94.7%</div>
          <h3 id="riskLabel" style="color: #e74c3c">
            HIGH RISK - DORMANCY FRAUD DETECTED
          </h3>
        </div>

        <div class="risk-indicator">
          <div class="risk-pointer" id="riskPointer" style="left: 94.7%"></div>
        </div>

        <h3 style="margin-top: 30px; color: var(--dark)">
          Contributing Risk Factors
        </h3>
        <div class="factors-grid">
          <div class="factor-card high-risk">
            <h4>‚è∞ Account Dormancy</h4>
            <div class="factor-value">287 days</div>
            <div class="factor-impact">
              No activity for 9+ months<br />
              <strong>Impact: Very High (35%)</strong>
            </div>
          </div>

          <div class="factor-card high-risk">
            <h4>üí∞ Transaction Amount</h4>
            <div class="factor-value">$850</div>
            <div class="factor-impact">
              High value for dormant account<br />
              <strong>Impact: High (25%)</strong>
            </div>
          </div>

          <div class="factor-card high-risk">
            <h4>üïê Unusual Time</h4>
            <div class="factor-value">3:00 AM</div>
            <div class="factor-impact">
              Outside normal hours<br />
              <strong>Impact: High (20%)</strong>
            </div>
          </div>

          <div class="factor-card medium-risk">
            <h4>üì± Device Change</h4>
            <div class="factor-value">New Mobile</div>
            <div class="factor-impact">
              First mobile transaction<br />
              <strong>Impact: Medium (12%)</strong>
            </div>
          </div>

          <div class="factor-card medium-risk">
            <h4>üåç Location Anomaly</h4>
            <div class="factor-value">New York</div>
            <div class="factor-impact">
              Different from usual location<br />
              <strong>Impact: Medium (8%)</strong>
            </div>
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn btn-danger" onclick="blockTransaction()">
            üö´ Block Transaction
          </button>
          <button class="btn btn-primary" onclick="requestVerification()">
            ‚úâÔ∏è Request User Verification
          </button>
          <button class="btn btn-success" onclick="approveWithMonitoring()">
            ‚úì Approve with Monitoring
          </button>
        </div>
      </div>

      <!-- Charts -->
      <div class="charts-row">
        <div class="chart-card">
          <h3>üìà Daily Fraud Detection Trend (Last 30 Days)</h3>
          <div class="chart-container">
            <canvas id="trendChart"></canvas>
          </div>
        </div>

        <div class="chart-card">
          <h3>üéØ Fraud Detection by Category</h3>
          <div class="chart-container">
            <canvas id="categoryChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Recent Alerts -->
      <div class="alerts-section">
        <h2>üö® Recent Alerts (Last Hour)</h2>

        <div class="alert-item fraud">
          <div>
            <strong>üî¥ HIGH RISK</strong> - ACC-67890 - $850 withdrawal from
            dormant account (287 days)<br />
            <span class="alert-time">2 minutes ago ‚Ä¢ Risk Score: 94.7%</span>
          </div>
          <div>
            <span
              style="
                background: #e74c3c;
                color: white;
                padding: 5px 15px;
                border-radius: 20px;
                font-size: 0.85rem;
              "
              >BLOCKED</span
            >
          </div>
        </div>

        <div class="alert-item suspicious">
          <div>
            <strong>üü° MEDIUM RISK</strong> - ACC-45123 - $320 transfer after
            145 days inactivity<br />
            <span class="alert-time">15 minutes ago ‚Ä¢ Risk Score: 67.3%</span>
          </div>
          <div>
            <span
              style="
                background: #f39c12;
                color: white;
                padding: 5px 15px;
                border-radius: 20px;
                font-size: 0.85rem;
              "
              >PENDING</span
            >
          </div>
        </div>

        <div class="alert-item normal">
          <div>
            <strong>üü¢ LOW RISK</strong> - ACC-12345 - $45 purchase from active
            account<br />
            <span class="alert-time">22 minutes ago ‚Ä¢ Risk Score: 12.8%</span>
          </div>
          <div>
            <span
              style="
                background: #27ae60;
                color: white;
                padding: 5px 15px;
                border-radius: 20px;
                font-size: 0.85rem;
              "
              >APPROVED</span
            >
          </div>
        </div>

        <div class="alert-item fraud">
          <div>
            <strong>üî¥ HIGH RISK</strong> - ACC-78901 - $1,200 ATM withdrawal
            after 312 days<br />
            <span class="alert-time">35 minutes ago ‚Ä¢ Risk Score: 91.2%</span>
          </div>
          <div>
            <span
              style="
                background: #e74c3c;
                color: white;
                padding: 5px 15px;
                border-radius: 20px;
                font-size: 0.85rem;
              "
              >BLOCKED</span
            >
          </div>
        </div>

        <div class="alert-item normal">
          <div>
            <strong>üü¢ LOW RISK</strong> - ACC-34567 - $125 online payment from
            regular user<br />
            <span class="alert-time">48 minutes ago ‚Ä¢ Risk Score: 8.5%</span>
          </div>
          <div>
            <span
              style="
                background: #27ae60;
                color: white;
                padding: 5px 15px;
                border-radius: 20px;
                font-size: 0.85rem;
              "
              >APPROVED</span
            >
          </div>
        </div>
      </div>

      <!-- Model Information -->
      <div class="model-info">
        <h2>ü§ñ Model Performance Metrics</h2>
        <div class="model-metrics">
          <div class="metric">
            <div class="metric-value">96.8%</div>
            <div class="metric-label">Accuracy</div>
          </div>
          <div class="metric">
            <div class="metric-value">94.2%</div>
            <div class="metric-label">Precision</div>
          </div>
          <div class="metric">
            <div class="metric-value">91.5%</div>
            <div class="metric-label">Recall</div>
          </div>
          <div class="metric">
            <div class="metric-value">92.8%</div>
            <div class="metric-label">F1-Score</div>
          </div>
          <div class="metric">
            <div class="metric-value">0.98</div>
            <div class="metric-label">AUC-ROC</div>
          </div>
          <div class="metric">
            <div class="metric-value">23ms</div>
            <div class="metric-label">Response Time</div>
          </div>
        </div>
        <p style="margin-top: 20px; color: #666; text-align: center">
          Model: Random Forest with SMOTE ‚Ä¢ Last Updated: Feb 12, 2024 ‚Ä¢
          Training Data: 5M transactions
        </p>
      </div>
    </div>

    <script>
      // Trend Chart
      const trendCtx = document.getElementById("trendChart").getContext("2d");
      new Chart(trendCtx, {
        type: "line",
        data: {
          labels: Array.from({ length: 30 }, (_, i) => i + 1),
          datasets: [
            {
              label: "Fraud Cases Detected",
              data: [
                45, 52, 48, 61, 55, 58, 63, 59, 67, 71, 68, 74, 70, 76, 82, 78,
                85, 81, 88, 92, 87, 94, 91, 97, 95, 102, 98, 105, 103, 108,
              ],
              borderColor: "#e74c3c",
              backgroundColor: "rgba(231, 76, 60, 0.1)",
              fill: true,
              tension: 0.4,
            },
            {
              label: "False Positives",
              data: [
                3, 4, 2, 5, 3, 4, 6, 5, 4, 3, 5, 4, 6, 5, 4, 3, 5, 4, 6, 5, 4,
                3, 5, 4, 6, 5, 4, 3, 5, 4,
              ],
              borderColor: "#f39c12",
              backgroundColor: "rgba(243, 156, 18, 0.1)",
              fill: true,
              tension: 0.4,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: "bottom",
            },
          },
          scales: {
            y: {
              beginAtZero: true,
            },
          },
        },
      });

      // Category Chart
      const categoryCtx = document
        .getElementById("categoryChart")
        .getContext("2d");
      new Chart(categoryCtx, {
        type: "doughnut",
        data: {
          labels: [
            "Dormancy Fraud",
            "Card Not Present",
            "Account Takeover",
            "Other",
          ],
          datasets: [
            {
              data: [65, 20, 10, 5],
              backgroundColor: ["#e74c3c", "#f39c12", "#3498db", "#95a5a6"],
              borderWidth: 0,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: "bottom",
            },
          },
        },
      });

      // Analyze Transaction Function
      function analyzeTransaction() {
        const result = document.getElementById("predictionResult");
        const amount = parseFloat(document.getElementById("amount").value);
        const days = parseInt(document.getElementById("daysSinceLast").value);
        const hour = parseInt(document.getElementById("hour").value);

        // Calculate risk score (simplified)
        let riskScore = 0;

        // Dormancy factor (most important)
        if (days > 180) riskScore += 35;
        else if (days > 90) riskScore += 20;
        else if (days > 30) riskScore += 10;

        // Amount factor
        if (amount > 500) riskScore += 25;
        else if (amount > 200) riskScore += 15;
        else riskScore += 5;

        // Time factor
        if (hour < 6 || hour > 22) riskScore += 20;
        else riskScore += 5;

        // Device and location (randomized for demo)
        riskScore += Math.random() * 20;

        riskScore = Math.min(99.9, Math.max(1, riskScore));

        // Update display
        const scoreElement = document.getElementById("riskScore");
        const labelElement = document.getElementById("riskLabel");
        const pointerElement = document.getElementById("riskPointer");

        scoreElement.textContent = riskScore.toFixed(1) + "%";
        pointerElement.style.left = riskScore + "%";

        if (riskScore > 70) {
          scoreElement.className = "risk-score high";
          labelElement.textContent = "HIGH RISK - DORMANCY FRAUD DETECTED";
          labelElement.style.color = "#e74c3c";
        } else if (riskScore > 40) {
          scoreElement.className = "risk-score medium";
          labelElement.textContent = "MEDIUM RISK - REVIEW RECOMMENDED";
          labelElement.style.color = "#f39c12";
        } else {
          scoreElement.className = "risk-score low";
          labelElement.textContent = "LOW RISK - TRANSACTION APPEARS NORMAL";
          labelElement.style.color = "#27ae60";
        }

        result.classList.add("show");
        result.scrollIntoView({ behavior: "smooth", block: "start" });
      }

      function blockTransaction() {
        alert(
          "üö´ Transaction BLOCKED\n\nUser will be notified and additional verification will be required.",
        );
      }

      function requestVerification() {
        alert(
          "‚úâÔ∏è Verification Request Sent\n\nUser will receive an email/SMS to verify this transaction.",
        );
      }

      function approveWithMonitoring() {
        alert(
          "‚úì Transaction APPROVED with Enhanced Monitoring\n\nAccount will be flagged for 24-hour close monitoring.",
        );
      }

      // Auto-trigger on load for demo
      window.onload = function () {
        setTimeout(analyzeTransaction, 1000);
      };
    </script>
  </body>
</html>
